{% extends 'base.html' %}
{% load static %}

{% block title %}Czystepanele.pl - Profesjonalne usługi czyszczenia{% endblock %}

{% block content %}
<script defer src="https://cdn.jsdelivr.net/npm/gsap@3/dist/gsap.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/gsap@3/dist/ScrollTrigger.min.js"></script>


<!-- HERO SECTION -->

<section id="hero"
  class="w-full bg-black relative flex items-center justify-center
         pt-20 md:pt-0
         min-h-[calc(100vh-80px)] md:min-h-screen">

  <!-- BACKGROUND: fade layers -->
  <div class="absolute inset-0">
    <div class="hero-layer a absolute inset-0 bg-cover bg-center opacity-100 transition-opacity duration-700 ease-in-out"></div>
    <div class="hero-layer b absolute inset-0 bg-cover bg-center opacity-0 transition-opacity duration-700 ease-in-out"></div>
  </div>

  <!-- OVERLAY -->
  <div class="absolute inset-0 bg-black/50 md:bg-black/40">
    <div class="absolute inset-0 bg-gradient-to-b from-black/20 via-black/25 to-black/50"></div>
  </div>

  <!-- CONTENT -->
  <div class="relative z-10 text-center text-white px-4 md:px-6 w-full max-w-5xl">
    <h1 class="font-bold tracking-tight drop-shadow-xl
               text-4xl sm:text-5xl md:text-7xl leading-tight">
      czystepanele.pl
    </h1>

    <h2 class="mt-3 md:mt-5 drop-shadow-md
               text-lg sm:text-xl md:text-3xl font-medium text-white/95">
      Usługi czyszczenia i pielęgnacji bez względu na sezon
    </h2>

    <!-- CTA: smuklejsze -->
    <div class="mt-5 md:mt-8 flex flex-col sm:flex-row items-center justify-center gap-3 md:gap-4">
      <a href="/kontakt.html"
         class="px-5 py-2 md:px-6 md:py-2.5
                bg-white text-[#0B1B52] rounded-full font-semibold shadow-md
                hover:shadow-lg hover:scale-[1.03] transition">
         Umów termin
      </a>
      <a href="#uslugi"
         class="px-5 py-2 md:px-6 md:py-2.5
                rounded-full font-semibold
                text-white/90 ring-1 ring-white/60 hover:bg-white/10 transition">
         Zobacz zakres usług
      </a>
    </div>

    
  </div>
</section>



<script>
  document.addEventListener('DOMContentLoaded', () => {
    const images = [
      "static/images/1-13.webp",
      "static/images/snieg.webp",
      "static/images/1-14.webp"
    ];

    const a = document.querySelector('.hero-layer.a');
    const b = document.querySelector('.hero-layer.b');
    if (!a || !b || images.length === 0) return;

    const setBg = (el, src) => el.style.backgroundImage = `url('${src}')`;

    let idx = 0;        // index zdjęcia
    let active = a;     // aktualnie widoczna warstwa
    let hidden = b;     // ukryta warstwa

    // Start: pierwsze zdjęcie
    setBg(active, images[idx]);

    function nextSlide() {
      idx = (idx + 1) % images.length;
      setBg(hidden, images[idx]);

      // fade
      hidden.classList.remove('opacity-0');
      hidden.classList.add('opacity-100');
      active.classList.remove('opacity-100');
      active.classList.add('opacity-0');

      // zamiana referencji
      const tmp = active;
      active = hidden;
      hidden = tmp;
    }

    setInterval(nextSlide, 5000);
  });
</script>




<!-- USLUGI -->
<section id="uslugi" class="py-24 bg-gray-50">
  <div class="max-w-6xl mx-auto px-6">
    <h2 class="text-4xl font-bold mb-16 text-center text-[#000042]">Nasze usługi</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
      
      <!-- Mycie okien -->
      <a href="{% url 'mycie-okien' %}" 
         class="group block bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-2xl transition-transform duration-500 hover:-translate-y-2">
        <div class="overflow-hidden aspect-square">
          <img src="{% static 'images/1-14.webp' %}" alt="Mycie okien" 
               class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 ease-out" 
               loading="lazy">
        </div>
        <div class="p-6 text-center">
          <div class="text-3xl mb-2">🪟</div>
          <h3 class="text-xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors">Mycie okien</h3>
          <p class="text-sm text-gray-600 mt-2">Czyste okna, wyraźna różnica.</p>
        </div>
      </a>

      <!-- Usługi wysokościowe -->
      <a href="{% url 'uslugi-wysokosciowe' %}" 
         class="group block bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-2xl transition-transform duration-500 hover:-translate-y-2">
        <div class="overflow-hidden aspect-square">
          <img src="{% static 'images/1-main.webp' %}" alt="Usługi wysokościowe" 
               class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 ease-out" 
               loading="lazy">
        </div>
        <div class="p-6 text-center">
          <div class="text-3xl mb-2">🧗‍♂️</div>
          <h3 class="text-xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors">Usługi wysokościowe</h3>
          <p class="text-sm text-gray-600 mt-2">Bezpiecznie i precyzyjnie – wszędzie tam, gdzie inni nie sięgają.</p>
        </div>
      </a>

      <!-- Koszenie trawników -->
      <a href="{% url 'koszenie-trawnikow' %}" 
         class="group block bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-2xl transition-transform duration-500 hover:-translate-y-2">
        <div class="overflow-hidden aspect-square">
          <img src="{% static 'images/trawa.webp' %}" alt="Koszenie trawnika" 
               class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 ease-out" 
               loading="lazy">
        </div>
        <div class="p-6 text-center">
          <div class="text-3xl mb-2">🌱</div>
          <h3 class="text-xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors">Koszenie trawników</h3>
          <p class="text-sm text-gray-600 mt-2">Zadbaj o ogród bez wysiłku.</p>
        </div>
      </a>

      <!-- Mycie paneli -->
      <a href="{% url 'mycie-paneli' %}" 
         class="group block bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-2xl transition-transform duration-500 hover:-translate-y-2">
        <div class="overflow-hidden aspect-square">
          <img src="{% static 'images/panele.jpg' %}" alt="Mycie paneli fotowoltaicznych" 
               class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 ease-out" 
               loading="lazy">
        </div>
        <div class="p-6 text-center">
          <div class="text-3xl mb-2">🔋</div>
          <h3 class="text-xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors">Mycie paneli</h3>
          <p class="text-sm text-gray-600 mt-2">Zwiększ wydajność instalacji słonecznej.</p>
        </div>
      </a>

      <!-- Odśnieżanie -->
      <a href="{% url 'odsniezanie' %}" 
         class="group block bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-2xl transition-transform duration-500 hover:-translate-y-2">
        <div class="overflow-hidden aspect-square">
          <img src="{% static 'images/snieg.webp' %}" alt="Odśnieżanie" 
               class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 ease-out" 
               loading="lazy">
        </div>
        <div class="p-6 text-center">
          <div class="text-3xl mb-2">❄️</div>
          <h3 class="text-xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors">Odśnieżanie dachów</h3>
          <p class="text-sm text-gray-600 mt-2">Skutecznie i bezpiecznie usuwamy śnieg oraz lód.</p>
        </div>
      </a>

      <!-- Zabezpieczenia przed ptakami -->
      <a href="{% url 'zabezpieczenia-przed-ptakami' %}" 
         class="group block bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-2xl transition-transform duration-500 hover:-translate-y-2">
        <div class="overflow-hidden aspect-square">
          <img src="{% static 'images/kolce1.jpg' %}" alt="Zabezpieczenia przed ptakami" 
               class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 ease-out" 
               loading="lazy">
        </div>
        <div class="p-6 text-center">
          <div class="text-3xl mb-2">🕊️</div>
          <h3 class="text-xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors">Zabezpieczenia przed ptakami</h3>
          <p class="text-sm text-gray-600 mt-2">Kolce, siatki i dyskretne rozwiązania na lata.</p>
        </div>
      </a>

    </div>

    <!-- CTA pod sekcją -->
    <div class="mt-16 text-center">
      <a href="/kontakt/" class="inline-block px-8 py-4 bg-[#000042] text-white font-semibold rounded-full shadow-lg transition hover:bg-blue-900 hover:scale-105">
        💬 Nie widzisz tego, czego potrzebujesz? Napisz do nas →
      </a>
    </div>

  </div>
</section>


<!-- DLACZEGO MY -->
<section id="dlaczego-my" class="py-24 bg-white">
  <div class="max-w-6xl mx-auto px-6 text-center">
    
    <h2 class="text-4xl font-bold text-[#000042] mb-16">Dlaczego warto nam zaufać?</h2>

    <!-- JAK DZIAŁAMY -->
    <div class="mb-20">
      <h3 class="text-3xl font-semibold text-[#000042] mb-10">Jak działamy</h3>
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-10">
        <div class="flex flex-col items-center text-gray-700 gsap-section">
          <div class="text-3xl mb-4">1️⃣</div>
          <h4 class="font-semibold text-lg mb-2">Kontakt i wycena</h4>
          <p class="text-sm">Zadzwoń lub napisz. Odpowiadamy szybko.</p>
        </div>
        <div class="flex flex-col items-center text-gray-700 gsap-section">
          <div class="text-3xl mb-4">2️⃣</div>
          <h4 class="font-semibold text-lg mb-2">Ustalamy termin</h4>
          <p class="text-sm">Dostosowujemy się do Twoich potrzeb.</p>
        </div>
        <div class="flex flex-col items-center text-gray-700 gsap-section">
          <div class="text-3xl mb-4">3️⃣</div>
          <h4 class="font-semibold text-lg mb-2">Czyszczenie</h4>
          <p class="text-sm">Profesjonalny sprzęt i doświadczenie.</p>
        </div>
        <div class="flex flex-col items-center text-gray-700 gsap-section">
          <div class="text-3xl mb-4">4️⃣</div>
          <h4 class="font-semibold text-lg mb-2">Satysfakcja</h4>
          <p class="text-sm">Zadowolenie gwarantowane.</p>
        </div>
      </div>
    </div>

    <!-- ZAUFALI NAM -->
    <div class="mb-20 relative">
      <h3 class="text-3xl font-semibold text-[#000042] mb-10">Zaufali nam</h3>

      <div class="relative overflow-hidden max-w-6xl mx-auto">
        <div id="trusted-carousel" class="flex transition-transform duration-300 ease-in-out">
          {% for client in clients %}
          <div class="w-full sm:w-1/2 md:w-1/3 lg:w-1/4 flex-shrink-0 flex flex-col items-center px-6 py-4">
            <img src="{{ client.logo.url }}" alt="{{ client.name }}"
              class="aspect-square object-contain h-16 mb-3 grayscale hover:grayscale-0 transition">
            <p class="text-center text-sm text-[#000042] font-medium">{{ client.name }}</p>
          </div>
          {% endfor %}
        </div>

        <!-- Strzałki -->
        <button id="prev" aria-label="Poprzedni"
          class="absolute left-0 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white p-2 rounded-full shadow-md z-10">
          &#8592;
        </button>
        <button id="next" aria-label="Następny"
          class="absolute right-0 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white p-2 rounded-full shadow-md z-10">
          &#8594;
        </button>
      </div>
    </div>

    <script>
      (function () {
        const track = document.getElementById('trusted-carousel');
        const container = track.parentElement;
        const slides = Array.from(track.children);
        const btnPrev = document.getElementById('prev');
        const btnNext = document.getElementById('next');

        let index = 0;
        let autoplayId = null;

        // ile kart widać na danym breakpointcie (base/SM/MD/LG => 1/2/3/4)
        function visibleCount() {
          if (window.innerWidth >= 1024) return 4; // lg
          if (window.innerWidth >= 768)  return 3; // md
          if (window.innerWidth >= 640)  return 2; // sm
          return 1;                                 // base
        }

        function normalizeIndex() {
          const vis = visibleCount();
          const maxStart = Math.max(0, slides.length - vis);
          if (index < 0) index = maxStart;   // loop wstecz
          if (index > maxStart) index = 0;   // loop w przód
        }

        function layout() {
          const vis = visibleCount();
          const slideW = container.clientWidth / vis;

          slides.forEach(s => { s.style.width = slideW + 'px'; });
          track.style.willChange = 'transform';
          track.style.transform = `translateX(${-index * slideW}px)`;
        }

        function next() { index++; normalizeIndex(); layout(); }
        function prev() { index--; normalizeIndex(); layout(); }

        // autoplay co 1 sekundę
        function startAutoplay() {
          stopAutoplay();
          autoplayId = setInterval(next, 1000);
        }
        function stopAutoplay()  {
          if (autoplayId) clearInterval(autoplayId);
          autoplayId = null;
        }

        // zdarzenia
        btnNext.addEventListener('click', next);
        btnPrev.addEventListener('click', prev);
        window.addEventListener('resize', () => { normalizeIndex(); layout(); });

        // pauza na hoverze (żeby dać oczom odpocząć)
        container.addEventListener('mouseenter', stopAutoplay);
        container.addEventListener('mouseleave', startAutoplay);

        // prosty swipe na mobile
        let startX = null;
        container.addEventListener('touchstart', (e) => { startX = e.touches[0].clientX; }, { passive: true });
        container.addEventListener('touchend', (e) => {
          if (startX === null) return;
          const dx = e.changedTouches[0].clientX - startX;
          if (Math.abs(dx) > 40) (dx < 0 ? next() : prev());
          startX = null;
        });

        // init
        normalizeIndex();
        layout();
        startAutoplay();
      })();
    </script>


    <!-- OPINIE KLIENTÓW -->
    <div>
      <h3 class="text-3xl font-semibold text-[#000042] mb-10">Co mówią nasi klienci</h3>
        <div class="grid md:grid-cols-2 gap-10">
          <div class="bg-gray-50 p-6 rounded-xl shadow text-left">
          <p class="text-gray-700 mb-4 italic">
              "Dziękujemy za profesjonalne wykonanie usługi. Dzięki temu nasze panele są bardziej wydajne. 
              Ponadto zastosowane metody mycia są przyjezne dla środowiska. Miły kontaktowy człowiek z dużym zasobem wiedzy w dziedzinie , którą się zajmuje. Dziękujemy."
          </p>
          <div class="flex items-center">
            <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center text-blue-700 font-bold">M</div>
            <div class="ml-4">
              <p class="font-semibold text-sm">Małgorzata i Leszek</p>
            </div>
          </div>
        </div>
        <div class="bg-gray-50 p-6 rounded-xl shadow text-left">
          <p class="text-gray-700 mb-4 italic">
            "Wykonawca jest słowny,terminowy i bardzo profesjonalny. Efekt jego pracy przerósł moje oczekiwania. Przyjemnością było współpracować z nim
            "</p>
          <div class="flex items-center">
            <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center text-blue-700 font-bold">J</div>
            <div class="ml-4">
              <p class="font-semibold text-sm">Jolanta</p>
            </div>
          </div>
        </div>
        <div class="bg-gray-50 p-6 rounded-xl shadow text-left">
          <p class="text-gray-700 mb-4 italic">
            "Świetna współpraca. Pan Konrad super zorganizowany, dokładny, z pozytywną energią. Okna nawet po deszczu lśnią, bez smug ani zacieków. Na pewno jeszcze nie raz skorzystam."</p>
          <div class="flex items-center">
            <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center text-blue-700 font-bold">I</div>
            <div class="ml-4">
              <p class="font-semibold text-sm">Izabela</p>
            </div>
          </div>
        </div>
        <div class="bg-gray-50 p-6 rounded-xl shadow text-left">
          <p class="text-gray-700 mb-4 italic">
            "Zlecenie mycia okien na klatce schodowej wykonane terminowo i dokładnie."
          </p>
          <div class="flex items-center">
            <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center text-blue-700 font-bold">W</div>
            <div class="ml-4">
              <p class="font-semibold text-sm">Wspólnota Mieszkaniowa</p>
            </div>
          </div> 
        </div>
        <div class="bg-gray-50 p-6 rounded-xl shadow text-left">
          <p class="text-gray-700 mb-4 italic">
            "Zamówiłam mycie okien w mieszkaniu, czyste i lśniące jak nigdy, szybko i sprawnie zmieniły wygląd. Polecam magika."
          </p>
          <div class="flex items-center">
            <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center text-blue-700 font-bold">M</div>
            <div class="ml-4">
              <p class="font-semibold text-sm">Marzena</p>
            </div>
          </div> 
        </div>
        <!-- OPINIA Z OFERTEO W FORMACIE KAFELKA -->
        <div class="bg-gray-50 p-6 rounded-xl shadow text-left flex flex-col justify-between h-full">
          <!-- Nagłówek z gwiazdkami i źródłem -->
          <div class="mb-4">
            <div class="flex items-center mb-2">
              <div class="text-yellow-400 text-xl mr-2">★★★★★</div>
              <p class="font-semibold text-sm text-gray-800">Oferteo.pl</p>
            </div>
            <p class="text-sm text-gray-700">
              Potwierdzona jakość usług na podstawie opinii zweryfikowanych klientów.
            </p>
          </div>

          <!-- CTA -->
          <a href="https://www.oferteo.pl/czystepanele-pl-mycie-okien-i-instalacji-fotowoltaicznych-konrad-kusajda/firma/5818381"
            target="_blank" rel="noopener noreferrer"
            class="mt-auto inline-block bg-[#000042] hover:bg-blue-800 text-white text-sm font-semibold px-5 py-2 rounded-full transition text-center">
            Zobacz opinie →
          </a>
        </div>






        </div>
    </div>

    <!-- PODSEKCJA: O nas -->
    <div class="mt-20 mb-20">
      <div class="grid md:grid-cols-2 gap-10 items-center">
        
        <!-- Lewa kolumna: tekst -->
        <div class="text-left">
          <h3 class="text-3xl font-semibold text-[#000042] mb-10">O nas</h3>
          <p class="text-sm text-gray-700 mb-4">
            Jesteśmy firmą specjalizującą się w czyszczeniu paneli fotowoltaicznych, okien, elewacji oraz pielęgnacji terenów zielonych. 
            Nasz zespół działa sprawnie, terminowo i z dbałością o detale.
          </p>
          <p class="text-sm text-gray-700">
            Działamy głównie na terenie województwa pomorskiego i warmińsko-mazurskiego, obsługując zarówno klientów indywidualnych, jak i firmy. 
            Korzystamy z bezpiecznych, ekologicznych środków czystości oraz nowoczesnego sprzętu do prac na wysokości.
          </p>
        </div>

        <!-- Prawa kolumna: zdjęcie -->
        <div>
          <img src="{% static 'images/mycie-okien.webp' %}" alt="Prace na wysokości – czystepanele.pl"
              class="rounded-2xl shadow-lg w-full h-auto object-cover">
        </div>

      </div>
    </div>


  </div>
</section>


<!-- REALIZACJE -->
<section class="py-24 bg-gray-100" id="realizacje">
  <div class="max-w-6xl mx-auto px-6 text-center">
    <h2 class="text-4xl font-bold mb-6 gsap-section">Zrealizowane projekty</h2>
    <p class="text-lg text-gray-700 mb-10 gsap-section">Zobacz efekty naszej pracy.</p>

    <div id="project-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-10">
      {% for project in random_projects %}
        <a href="{{ project.get_absolute_url }}" 
           class="project-card block bg-white rounded-xl shadow hover:shadow-lg overflow-hidden transition-all"
           data-date="{{ project.date|date:'Y-m-d' }}">
          <div class="relative w-full h-48">
            {% if project.main_image %}
              <img src="{{ project.main_image.url }}" alt="{{ project.title }}" class="absolute inset-0 w-full h-full object-cover" loading="lazy">
            {% else %}
              <div class="absolute inset-0 w-full h-full flex items-center justify-center bg-gray-200 text-gray-500 text-sm">
                Brak zdjęcia
              </div>
            {% endif %}
          </div>
          <div class="p-4">
            <h3 class="text-lg font-semibold text-gray-900">{{ project.title }}</h3>
            <p class="text-sm text-gray-700">{{ project.company_name }}</p>
            <p class="text-sm text-gray-500">{{ project.location }} &bull; {{ project.date|date:"m.Y" }}</p>
          </div>
        </a>
      {% endfor %}
    </div>

    <a href="{% url 'realizacje' %}" class="inline-block bg-[#000042] hover:bg-[#1E3A8A] hover:scale-105 text-white font-semibold py-4 px-10 rounded-full shadow-md transition duration-300 gsap-section">
      Zobacz całą galerię
    </a>
  </div>
</section>


<!-- CTA -->
<section class="py-20 bg-white">
  <div class="max-w-6xl mx-auto px-6">
    <div class="rounded-3xl bg-[#000042] text-white p-8 sm:p-12 shadow-lg flex flex-col lg:flex-row items-center justify-between gap-6 gsap-section">
      <div class="text-center lg:text-left max-w-2xl">
        <h2 class="text-3xl sm:text-4xl font-extrabold tracking-tight">
          Gotowy na czystość?
        </h2>
        <p class="mt-3 text-white/80 text-base sm:text-lg">
          Od umówienia terminu do lśniących powierzchni.
        </p>
      </div>

      <div class="flex flex-col sm:flex-row items-center gap-3">
        <a href="{% url 'kontakt' %}"
           class="inline-flex items-center justify-center rounded-full px-6 py-3 font-semibold bg-white text-[#000042] hover:bg-gray-100 shadow transition">
          Skontaktuj się z nami
        </a>
        <a href="tel:+48000000000"
           class="inline-flex items-center justify-center rounded-full px-6 py-3 font-semibold ring-2 ring-white/70 text-white/95 hover:bg-white/10 transition">
          Zadzwoń teraz
        </a>
      </div>
    </div>
  </div>
</section>



{{ hero_image_urls|json_script:"hero-images" }}
<script>
document.addEventListener('DOMContentLoaded', function () {
  const dataEl = document.getElementById('hero-images');
  if (!dataEl) return;

  const imgs = JSON.parse(dataEl.textContent || '[]');
  if (!imgs.length) return;

  const layers = document.querySelectorAll('#hero .hero-layer');
  let current = Math.max(0, imgs.indexOf('{{ background_image_url }}'));

  // Preload
  imgs.forEach(u => { const i = new Image(); i.src = u; });

  function swap() {
    current = (current + 1) % imgs.length;
    const nextUrl = imgs[current];

    const a = layers[0], b = layers[1];
    const top = +getComputedStyle(a).opacity === 1 ? a : b;
    const bottom = top === a ? b : a;

    bottom.style.backgroundImage = `url('${nextUrl}')`;
    bottom.style.opacity = '1';
    top.style.opacity = '0';
  }

  setInterval(swap, 5000);
});
</script>



{% endblock %}